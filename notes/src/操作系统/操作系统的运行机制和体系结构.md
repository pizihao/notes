### 操作系统的运行机制和体系结构

#### 一，运行机制

> 什么是指令

一条高级语言代码翻译过来可能会对应多条指令

简单来说，指令就死处理器能识别，执行的最基本命令

> 两种指令

- 特权指令
  - 不允许用户程序使用
- 非特权指令
  - 普通的指令

> 两种处理器状态
>
> 用程序状态寄存器（psw）中的某标志位来标识当前处理器处于什么状态，如：0为用户态，1为核心态
>
> 可以通过修改这个标志位使核心态进入用户态
>
> 用户态进入核心态只能通过中断

- 用户态(目态)
  - 此时cpu只能执行非特权指令
- 核心态(管态)
  - 此时特权指令和非特权指令都可以执行

> 两种程序

- 内核程序
  - 操作系统的内核程序是系统的管理者
  - 既可以执行特权指令，也可以执行非特权指令，运行在核心态
- 应用程序
  - 为了保证系统能安全运行，普通应用程序只能执行非特权指令，运行在用户态

#### 二，操作系统内核

内核是计算机上配置的底层软件，是操作系统最基本，最核心的部分，实现操作系统内核功能的那些程序就是内核程序

#### 三，操作系统的体系结构

> 大内核

- 将操作系统的主要功能模块都作为系统内核，运行在核心态
- 优点：高性能
- 缺点：内核代码庞大，结构混乱，难以维护

> 微内核

- 只把最基本的功能保留在内核
- 优点：内核功能少，结构清晰，方便维护
- 缺点：需要频繁地在核心态和用户态之间切换，性能低 
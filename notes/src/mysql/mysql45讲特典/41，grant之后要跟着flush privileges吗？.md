# grant之后要跟着flush privileges吗？

- mysql中grant是给用户赋予权限的，一般需要在grant之后紧跟一个flush privileges 命令，才会使这条赋权语句生效
- 全局权限 作用于整个 MySQL 实例，这些权限信息保存在 mysql 库的 user 表里。
- 在grant 命令执行完成后，如果有新的客户端使用用户名 ua 登录成功，MySQL 会为新连接维护一个线程对象，然后从 acl_users 数组里查到这个用户的权限，并将权限值拷贝到这个线程对象中。之后在这个连接中执行的语句，所有关于全局权限的判断，都直接使用线程对象内部保存的权限位。
- grant 命令对于全局权限，同时更新了磁盘和内存。命令完成后即时生效，接下来新创建的连接会使用新的权限。
- 对于一个已经存在的连接，它的全局权限不受 grant 命令的影响。
- db 权限 针对每个表的权限
- 表权限和列权限
- 正常情况下，grant 命令之后，没有必要跟着执行 flush privileges 命令。

> flush privileges 使用场景

- 当数据表中的权限数据跟内存中的权限数据不一致的时候，flush privileges 语句可以用来重建内存数据，达到一致状态


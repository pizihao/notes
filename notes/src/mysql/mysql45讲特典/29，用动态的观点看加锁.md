用动态的观点看加锁

- 不等号条件里的等值查询，
- 通过树搜索的方式定位记录的时候，用的是“等值查询”的方法。
- 出现死锁后，执行 show engine innodb status 命令会得到死锁线程的部分信息
- 由于锁是一个个加的，要避免死锁，对同一组资源，要按照尽量相同的顺序访问；
- 在发生死锁的时刻，for update 这条语句占有的资源更多，回滚成本更大，所以 InnoDB 选择了回滚成本更小的 lock in share mode 语句，来回滚。
- 删除两个间隙中间的表记录，间隙锁会扩张


# 深入浅出索引

**索引是一种数据结构**

- 索引的出现其实就是为了提高数据查询的效率
- 常见的所引有：哈希表、有序数组和搜索树
- 哈希表这种结构适用于只有等值查询的场景
- 有序数组索引只适用于静态存储引擎，在等值查询和范围查询场景中的性能很高
- 在更新的时候比较麻烦，如果需要往中间插入值，就必须挪动后面的所有数据
- InnoDB使用的所有树是B+树，二叉树树高过高，每次查询都需要访问过多节点，即访问数据块过多，而从磁盘随机读取数据块过于耗时。
- 索引是在存储引擎层实现的
- 在 InnoDB 中，表都是根据主键顺序以索引的形式存放的，这种存储方式的表称为索引组织表
- 页分裂和页合并
- 自增主键的插入数据模式，正符合了我们前面提到的递增插入的场景。每次插入一条新记录，都是追加操作，都不涉及到挪动其他记录，也不会触发叶子节点的分裂
- 建表的时候如果有唯一的字段，可以将这个字段直接设置为主键，不再使用自增主键
- 回到主键索引树搜索的过程，我们称为回表
- 由于覆盖索引可以减少树的搜索次数，显著提升查询性能，所以使用覆盖索引是一个常用的性能优化手段。
- B+ 树这种索引结构，可以利用索引的“最左前缀”，来定位记录。


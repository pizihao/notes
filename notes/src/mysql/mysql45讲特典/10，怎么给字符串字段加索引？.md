怎么给字符串字段加索引？

- 前缀索引：使用字符串的前面一部分作为索引； 

- 组合索引：多个字段组合在一起组成的索引，可以使用最左边几个当作一个索引看

- 如果创建索引的语句不指定前缀长度，那么索引就会包含整个字符串

- 使用前缀索引会让索引树占有的空间变小，但是可能会额外增加的增加记录的扫描次数

- 使用前缀索引，定义好长度，就可以做到既节省空间，又不用额外增加太多的查询成本。

- 对于字符串而言，如果字符串后面的区分度很低，则可以用字符串前缀索引来做，如果后面区分度高，前面的区分度较低，可以将这个字符串反向存储

- 在建立索引时关注的是区分度，区分度越高越好。因为区分度越高，意味着重复的键值越少。

- 第一种方式是使用倒序存储。如果你存储身份证号的时候把它倒过来存

- 第二种方式是使用 hash 字段。你可以在表上再创建一个整数字段，来保存身份证的校验码，同时在这个字段上创建索引，把要存储的hash一遍

  ~~~txt
  直接创建完整索引，这样可能比较占用空间；
  创建前缀索引，节省空间，但会增加查询扫描次数，并且不能使用覆盖索引；
  倒序存储，再创建前缀索引，用于绕过字符串本身前缀的区分度不够的问题；
  创建 hash 字段索引，查询性能稳定，有额外的存储和计算消耗，跟第三种方式一样，都不支持范围扫描
  ~~~

  

